\documentclass[twocolumn, aps, prd, 10pt, superscriptaddress, nofootinbib]{revtex4-2}
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{amsmath, amssymb, graphicx, float, hyperref, booktabs, listings}
\usepackage{eulervm}
\usepackage{geometry}
\usepackage{pgffor}
\usepackage{xcolor}
\usepackage{setspace}
\usepackage{xstring}

\geometry{
  top=1.7cm,
  bottom=1.7cm,
  left=1.7cm,
  right=1.7cm
}

\setstretch{1.00}

\lstset{
  language=Matlab,
  basicstyle=\ttfamily\small,
  keywordstyle=\color{blue}\bfseries,
  commentstyle=\color{green!50!black},
  stringstyle=\color{red},
  numbers=left,
  numberstyle=\tiny,
  stepnumber=1,
  numbersep=5pt,
  frame=single,
  breaklines=true,
  showstringspaces=false,
  captionpos=b,
  backgroundcolor=\color{gray!10}
}

\begin{document}

\title{Resolución numérica de la ecuación de Schrödinger dependiente del tiempo}
\author{César de la Rosa Sobrino}
\email{cdelarosa29@alumno.uned.es}
\date{\today}

\begin{abstract}
En este trabajo, se aborda la resolución numérica de la ecuación de Schrödinger dependiente del tiempo, aplicando diferentes métodos de discretización para observar la evolución temporal de partículas en diversos potenciales.
\end{abstract}

\maketitle

\section{Introducción}
\input{intro.tex}

\section{Ecuaciones en derivadas parciales}
\input{ecuaciones_edp.tex}
b
\section{Propagación de una onda sinusoidal}
\input{onda_sinusoidal.tex}
c
\section{Ecuación de Schrödinger dependiente del tiempo}
\input{schrodinger_tiempo.tex}
d
\section{Discretización de la ecuación de Schrödinger}
\input{diferencias_finitas.tex}
e
\section{Evolución temporal de una partícula libre}
\input{particula_libre.tex}
f
\section{Evolución temporal de una partícula viajera}
\input{particula_viajera.tex}
g
\section{Funciones del oscilador armónico}
\input{oscilador_armonico.tex}
h
\section{Sistema de elección propia}
\input{sistema_elegido.tex}
i
\section{Conclusiones}
\input{conclusiones.tex}
j
\bibliographystyle{apsrev4-2}
\bibliography{referencias}

\newpage
\onecolumngrid
\appendix
\section{Código fuente}

\foreach \filename in {../codigo/a.m} {
  \IfFileExists{\filename}{
	  \StrBehind{\filename}{codigo/}[\basename]
	  \lstinputlisting[caption={Código: \basename\ }, label={lst:\basename}]{\filename}
  }{
    \typeout{Warning: File \filename\ not found.}
  }
}

\end{document}
